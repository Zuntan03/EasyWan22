<!-- English ruby is easy wan nyan nyan -->
# <ruby>EasyWan22<rt>easy wan nyan nyan</rt></ruby>

[日本語 README](README.md)

Wan 2.2 **I2V-A14B** runs normally on Win PC with RAM 32GB, Geforce RTX 30x0 or later with VRAM 8GB or more.  
RAM 16GB might be tolerable, so if you're interested, please give it a try.  
With Geforce RTX 3060 12GB, you can generate 1024px long side 101 frames or 704px long side 241 frames.

[Wan 2.2 **I2V-A14B** also works somehow with **RAM 16GB**, Geforce **GTX 1660Ti VRAM 6GB**.](https://yyy.wpx.jp/2025/08/EasyWan22_I2V-A14B_Vram6GB_Ram16GB.mp4)  
`Easy/I2V` workflow changes: 384px long side, T5 gpu->cpu fp8_e4m3fn->none, sageattn->sdpa

The workflow is designed to be larger to reduce the number of steps during mass video production.  
It's not suitable for ComfyUI learning purposes, so if that's your goal, please use [SimpleComfyUi](https://github.com/Zuntan03/SimpleComfyUi).

## User Feedback

Latest user feedback can be found here: [Twitter](https://x.com/search?q=%22easywan22%22&src=typed_query&f=live), [YouTube](https://www.youtube.com/results?search_query=EasyWan22), [Google](https://www.google.com/search?q=easywan22)

Articles

- 8/11: "[Free video generation AI 'Wan2.2' is amazing - You can achieve this quality on PC locally](https://ascii.jp/elem/000/004/312/4312173/)" (Japanese)
	- [p. 5 "For installation, Zuntan's 'EasyWan22' environment is recommended as it can be set up without getting lost."](https://ascii.jp/elem/000/004/312/4312173/5/)
- 8/5: "[Tried Wan2.2's img2video in local environment](https://kagaseo.blog.jp/archives/29271567.html)" (Japanese)
- 7/31: "[How to use EasyWan22, which makes Wan2.2 easy to use](https://note.com/aiaicreate/n/n0c24cf1a8035)" (Japanese)

Examples

- 8/12: [@studiomasakaki](https://x.com/studiomasakaki/status/1955098988962881757), [@yimamura](https://x.com/yimamura/status/1955222752786518075), [@YTxscc4lOtBHTKy](https://x.com/YTxscc4lOtBHTKy/status/1955116517236117530), [@magchan360](https://x.com/magchan360/status/1955002379453206753), [@ugoku_yeah](https://x.com/ugoku_yeah/status/1954922640612966735)
- 8/11: [@kuromonchaya](https://x.com/kuromonchaya/status/1954619427124924785), [@OkogeOnigiri](https://x.com/OkogeOnigiri/status/1954831538333372507), [@sirsirtaro_sub](https://x.com/sirsirtaro_sub/status/1954819183570497709), [@magchan360](https://x.com/magchan360/status/1954809827680457138) [2](https://x.com/magchan360/status/1954801881525764422) [3](https://x.com/magchan360/status/1954652281967927692), [@sirsirtaro29](https://x.com/sirsirtaro29/status/1954786781960011873), [@virtuarian](https://x.com/virtuarian/status/1954742657475023293), [@akasetouta](https://x.com/akasetouta/status/1954720972533338167)
- 8/10: [@RistyFalette](https://x.com/RistyFalette/status/1954342340866486548)
- 8/9: [@ramnacolumn](https://x.com/ramnacolumn/status/1954157838055715096), [@erot_ai](https://x.com/erot_ai/status/1954140200751308810), [@yobo_41](https://x.com/yobo_41/status/1953847312498774356), [@magchan360](https://x.com/magchan360/status/1954122025737367567)
- 8/8: [@croblz25](https://x.com/croblz25/status/1953652991799795842), [@tottarkun](https://x.com/tottarkun/status/1953784103523815471)
- 8/7: [@tottarkun](https://x.com/tottarkun/status/1953400449350160771)
- 8/6: [@Kuze0x0_](https://x.com/Kuze0x0_/status/1953037332489355689), [@Akiya_Saisei_PM](https://x.com/Akiya_Saisei_PM/status/1953099647842488603), [@yukimino_doga](https://x.com/yukimino_doga/status/1952972105630597241), [@wisperingcat](https://x.com/wisperingcat/status/1952894649791857146)
- 8/5: [@aryn_ra](https://x.com/aryn_ra/status/1952534391500185683), [@takey_21](https://x.com/takey_21/status/1952712030412271638)
- 8/4: [@studiomasakaki](https://x.com/studiomasakaki/status/1952222138762768553), [@croblz25](https://x.com/croblz25/status/1952325277960622547), [@RistyFalette](https://x.com/RistyFalette/status/1952380739095547936), [@Artemi_AI](https://x.com/Artemi_AI/status/1952357042066428116), [@ojihotaren](https://x.com/ojihotaren/status/1952346242580922672)
- 8/3: [@yukimino_doga](https://x.com/yukimino_doga/status/1951947103095476427) [2](https://x.com/yukimino_doga/status/1951886943588901017), [@kuromonchaya](https://x.com/kuromonchaya/status/1951983575420522602), [@aoi_yotsub16292](https://x.com/aoi_yotsub16292/status/1952052870397984795) [2](https://x.com/aoi_yotsub16292/status/1952015286774960406) [3](https://x.com/aoi_yotsub16292/status/1951990309266886843), [@remote_komusou](https://x.com/remote_komusou/status/1951792261420966189), [@ramnacolumn](https://x.com/ramnacolumn/status/1951921310218723353), [@NegiTurkey](https://x.com/NegiTurkey/status/1952135962324300120), [@nellygem888](https://x.com/nellygem888/status/1951966481043841362), [@municocco](https://x.com/municocco/status/1951858568929718562)
- 8/2: [@yukimino_doga](https://x.com/yukimino_doga/status/1951447771086725594), [@nellygem888](https://x.com/nellygem888/status/1951302176556589368) [2](https://x.com/nellygem888/status/1951313234662924646), [@iitomyii](https://x.com/iitomyii/status/1951352115835838685)
- 8/1: [@BeamManP](https://x.com/BeamManP/status/1950969267484238201), [@kagami_kami_m](https://x.com/kagami_kami_m/status/1951218120171106682), [@Kuze0x0_](https://x.com/Kuze0x0_/status/1950953805618835893), [@m_gen_chan](https://x.com/m_gen_chan/status/1951116909933633797), [@kp4114](https://x.com/kp4114/status/1951150976116859195), [@yukimino_doga](https://x.com/yukimino_doga/status/1950816818408374735) [2](https://x.com/yukimino_doga/status/1951263437939425350) [3](https://x.com/yukimino_doga/status/1950768548600770891), [@kp4114](https://x.com/kp4114/status/1951150976116859195), [@croblz25](https://x.com/croblz25/status/1950944166097326435)
- 7/31: [@Emanon_14](https://x.com/Emanon_14/status/1950892068705841599), [@yukimino_doga](https://x.com/yukimino_doga/status/1950761171797377392) [2](https://x.com/yukimino_doga/status/1950878350257312142)

## Installation Method

1. Right-click and save [EasyWan22Installer.bat](https://github.com/Zuntan03/EasyWan22/raw/main/EasyWan22/EasyWan22Installer.bat?ver=0).
	- By default, it uses [Python 3.12 recommended by ComfyUI official](https://github.com/comfyanonymous/ComfyUI#manual-install-windows-linux).  
	While unverified, you can use Python 3.10 series by installing with [EasyWan22Installer-Python3_10.bat](https://github.com/Zuntan03/EasyWan22/raw/main/EasyWan22/EasyWan22Installer-Python3_10.bat?ver=0).
		- Due to environment-dependent issues, some environments may only work with Python 3.10.  
		If installation or startup fails, please try this option as well.
2. Prepare an **empty folder** for installation at a shallow path like `C:/EasyWan22/` or `D:/EasyWan22/`, place `EasyWan22Installer.bat` there and run it.
	- **If "Publisher could not be verified. Do you want to run this software?" appears, click `Run`.**
	- **If "Windows protected your PC" appears, click `More info` then `Run anyway`.**
	- **If "Do you want to allow this app to make changes to your device?" appears during `Microsoft Visual C++ 2015-2022 Redistributable` installation, click `Yes`.**
	- **A [Civitai](https://civitai.com/) API key is required to download necessary files, so please enter it following the on-screen instructions or [know-how](https://www.google.com/search?q=civitai+api+key).**

## How to Use

- Launch with `ComfyUi.bat`.
	- **[ Warning ][ ComfyUI Trap ][ Many Victims ]  
	On first launch, old workflows in browser cache may open and cause errors.  
	Please ignore the errors and close the workflow.**
- Update with `Update.bat`.
	- Automatic file download during updates can be toggled with `EasyWan22/AutoDownload_(Enable|Disable).bat`.  
	However, disabling it may cause `Easy/*` workflows to not work properly after updates.

1. **After launching `ComfyUI.bat`, open the `Easy/00_I2V(ImageToVideo)` workflow and check the instructions at the top of the workflow from the top-left.**  
Generate videos by clicking `Queue Prompt`.

**There are examples with workflows in `Sample/`.**  
**The examples have post-processing like upscaling and frame interpolation enabled.**  
**If you want to do seed gacha based on the examples, please disable post-processing first before doing gacha.**

## Impact of Large AI Tool Models on SSD Lifespan

There are cases where concerns about the impact of large AI tool models on SSD lifespan are based on inaccurate information and are unnecessarily heightened.

While I cannot guarantee safety, if you're concerned, please make your own judgment based on the `Health Status` in [CrystalDiskInfo](https://forest.watch.impress.co.jp/library/software/crdiskinfo/) [[Japanese](https://crystalmark.info/ja/download/#CrystalDiskInfo)] [[English](https://crystalmark.info/en/download/#CrystalDiskInfo)] and other indicators.

Not limited to SSD lifespan, PCs break when they break. Please back up truly important data.

### More Detailed Explanation

Virtual memory is a mechanism that expands memory by using page files on disks like SSDs when physical memory is insufficient.  
When large AI tool models don't fit entirely in physical memory, they may write to page files to place parts of the model on disk.

While the large size of AI tools may cause concern, please judge based on the cumulative write amount in actual usage conditions.  
SSD read amounts are generally considered to have minimal impact on lifespan.

1. Record the SSD model number and `Total Host Writes` in CrystalDiskInfo.
2. Search for the SSD model number and TBW (Total Bytes Written) to check the expected total write amount for the SSD.
3. Use AI tools for about a week and compare the change in `Total Host Writes` with TBW in CrystalDiskInfo.
4. If you want to further reduce anxiety, periodically check the drive's `Health Status` in CrystalDiskInfo.

If you have multiple SSDs, you can expect more stable operation by moving the page file to an SSD with good `Health Status`.  
The page file location can be changed in Windows `Advanced System Settings - Performance Options - Advanced` under `Virtual Memory`.  
**For AI-related tools, `System managed size` is recommended over `Custom size` to avoid troubles.**  
**Setting page files on slow disks like HDDs may slow down the entire PC.**

The information in Task Manager's `Performance - Disk` tab is also affected by reads, so it's inappropriate from the perspective of worrying about SSD lifespan.  
Please judge based on actual usage over about a week rather than a few generations.

## Recent Update History

[ChangeLog](https://github.com/Zuntan03/EasyWan22/wiki/ChangeLog)

<!--
README.md を英訳して README_en.md を更新します。更新履歴をよく更新します。EasyWan22/wiki/ へのリンクは変更禁止。「ドキュメント」内は変更禁止。
-->

Currently, documentation updates haven't caught up.

### 2025/08/28

- Fixed a bug where prompt expansion was not working properly.
- Made it possible to select the model used for prompt expansion and rewriting in the `PositivePrompt` node.
- Made the `BlocksToSwap` setting location in `ModelLoader` easier to understand with a slider.
- Updated ComfyUI version to [`v0.3.53`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.53).

### 2025/08/27

- Added presets for [nashikone/iroiroLoRA](https://huggingface.co/nashikone/iroiroLoRA/tree/main/Wan2.2_i2v_A14B).
- Added Civitai LoRA presets.

### 2025/08/26

- Fixed a bug where `Refiner` would error when `EndImage` is enabled.
- Added `Boost1stStep` samples with LoRA.

### 2025/08/25

- Adjusted Base model default settings to match the old Kijai WIP specification.
	- Disabled the 3-stage sampler with `HiNoise1stEnabled` in `BaseSampler`.
- Added `Boost1stStep` to enhance motion.
	- Improved motion with Cfg 3.5 in FastMix by disabling fast LoRA with negative application at the first step.  
	![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/FirstStepCfgHack.webp) 
- Added `Upper Body Undressing(L|S)` presets.
- Stopped pinning nodes I was experimenting with since it was troublesome in various ways.
- Updated ComfyUI version to `v0.3.52`.
- Added samples for motion-enhancing `Boost1stStep`.
	- Motion changes significantly just by enabling/disabling `Boost1stStep`.
		- A-Boost1stStep [ON](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepA0_ON.mp4), [OFF](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepA1_OFF.mp4)
		- B-Boost1stStep [ON](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepB0_ON.mp4), [OFF](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepB1_OFF.mp4)

### 2025/08/24

- Added support for subgraphs, making the workflow appearance more user-friendly.
	- Functionality-wise, added switching to base models.
	- Prepared UI reference in Wiki and linked from each item.

New  
![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/NewWorkflow.webp)  

Old  
![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/OldWorkflow.webp)

### 2025/08/22

- Fixed unintentionally changing the `ColorMatch` model.

### 2025/08/21

- Updated ComfyUI version to `v0.3.51`.
- Updated `city96/ComfyUI-GGUF` to the 8/20 version.
- Temporarily fixed the issue where `SaveEndFrame` was saving the start image instead.
	- The state becomes incorrect when toggling `Enable SaveEndFrame`.
- Added presets for `AssertiveCowgirl`, `PovCowgirl`, and `OralInsertion`.

### 2025/08/20

- Added support for past video generation from end images and video generation from start and end images.
	- `SwapStartEnd` treats the start image as an end image and generates a past video leading to the image.
	- `UseEndImage` additionally specifies an end image to generate a video from start image to end image.
		- Resource consumption is high due to brute force approach.
	- This is not VACE, so motion continuity depends on luck.
	- Added `LoopFLF2V` sample that generates a 15-second loop video from a single image.

`LoopFLF2V` sample generation procedure:

1. Enable `SwapStartEnd` to generate a 5-second past video from the end image.
2. Disable `SwapStartEnd` to generate a 5-second video from the start image.  
	Enable `AppendVideo` and set `Asset.webp` from step 1 to `PreviousWebpVideo` to check motion continuity.
	- This becomes a simple 10-second video generation at this point.
	- `AppendVideo` is one of the post-processes, so `Enable PostProcess` must be enabled.
		- Settings like `Refiner` and `Upscale` should be matched between the videos to be combined.
		- The next update is expected to allow adjustment of the `AppendVideo` combination timing.
3. Enable `UseEndImage`, set the start image from step 2 and the end image from step 1's `EndFrame.webp`, then generate a 5-second video.  
	Enable `AppendVideo` and set `Asset.webp` from step 2 to `PreviousWebpVideo`.  
	This creates a looping video: step 1 > step 2 > step 3 > step 1.

### 2025/08/18

- Added a sample of the `CumshotAesthetics` preset assisted by prompts.
	- Japanese instructions are automatically converted to three-language prompts (Japanese, English, and Chinese).

### 2025/08/17

- Made it possible to toggle the entire post-processing on/off with `Enable PostProcess`.
- Made it possible to edit mosaics with `Enable MosaicWork` even when the entire post-processing is disabled.  
Here's an example procedure for editing mosaics at maximum speed:
	1. Disable `Enable PostProcess`.
	2. Load a generated Webp video with `LoadWebpVideo` in `PostProcessSource`.
	3. Enable `Enable MosaicWork`.
	4. Disable file saving like `SaveMp4` in `Output`.
	5. Enable `Enable PointMosaic`, `Enable MaskMosaic`, `Enable AutoMosaic` to edit mosaics.
	6. When mosaic editing is finished, enable `Enable PostProcess` and file saving, then execute to generate a mosaic-processed video with post-processing.
- Made it possible to append generated videos to existing Webp videos with `AppendVideo`.
	- You can remove trailing frames from the previous generated Webp video with `TrimEndFrames`.
		- If you want to remove leading frames from the generated video, use `TrimStartFrames`.
- Added `CumshotAesthetics` preset and sample.

### 2025/08/16

- Released [Wan22-FastMix](https://huggingface.co/Zuntan/Wan22-FastMix) and adjusted workflows accordingly.
	- Achieved ghost reduction and motion enhancement.
	- While there's compatibility with used LoRAs, you can increase or decrease motion size and speed with `EnhanceMotion`.
- Rolled back PyTorch version to `2.7.1` as some environments seem to have compilation issues or slower performance.

### 2025/08/14

- Updated ComfyUI version to `v0.3.50`.
- Upgraded PyTorch version to `2.8.0` and CUDA version to `12.8`.
- Added samples demonstrating that GeneralNsfw presets can be used for various images.

### 2025/08/13

- Added a sample to verify the versatility of the general NSFW LoRA and the mass production capability of the `I2V` workflow.
	- Just loading past favorite images with folder specification and generating with presets as-is.
- Added `Use Sigmas` to enable disabling Sigmas.
- Added NSFW presets.
	- `Download\loras\Nsfw\Footjob_v10-(H|L).bat`

### 2025/08/12

- Fine-tuned the `Refiner` settings.
- Added support for notifications when generation is complete.
	- Can be disabled with the `SystemNotification` node.
- Changed the default `TextEncoder` from `Native` to `Kijai`.
	- While accuracy is reduced due to fp8 not being `scaled`, it has the benefits of avoiding the issue where GPU is sometimes not used and supporting disk cache.
- Asset Webp saving is no longer treated as a target for frame interpolation.
- Updated 'User Feedback'.
- Added 4 types of samples `20250812-GeneralNsfw_A~D` to Sample.
	- These are simply generated using `GeneralNsfw` preset with random loading of past images thrown into folders via `LoadImageFrom`.
	- The highlights are the revival of kanji in speech bubbles through V2V Refiner and fluid simulation.

### 2025/08/11

- Changed to use GGUF with fast LoRA baked in for acceleration.
	- You can download higher accuracy models with `Download/diffusion_models/FastMix/*.bat`.
- Made it possible to use upscalers for enlargement in `Refiner`.
	- Quality improves when using modest rewrites like `2step`.
- Adjusted parameters overall.
- Added `RepeatFade` that fades with the beginning at the end of the video.
	- Crops several frames from the beginning of the video and cross-fades them at the end.

### 2025/08/10

- Added functionality to generate videos using image files from the `Input/Load/` folder randomly or sequentially.
	- Switch with `LoadImageFrom` below the start image loading.
	- You can also specify folders from different paths with `LoadImageFolderPath`.
	- Set random or sequential with `randomize | increment & Set 0`
- Added `LoRA Presets`. There were LoRA connection issues as of yesterday.
	- Increased presets to 5 types.
- Fixed a bug where `ColorMatch` in `Refiner` stopped working.
- Made it possible to choose between area-based and long-side specification for video size.

## Documentation

- [Tutorial](https://github.com/Zuntan03/EasyWan22/wiki/Tutorial)
<!-- - [FAQ](https://github.com/Zuntan03/EasyWan22/wiki/%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E8%B3%AA%E5%95%8F%E3%81%A8%E5%9B%9E%E7%AD%94) -->
- [ChangeLog](https://github.com/Zuntan03/EasyWan22/wiki/%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4) 
- UI Reference
	- [ImageInput](https://github.com/Zuntan03/EasyWan22/wiki/UI-ImageInput)
	- [VideoOutput](https://github.com/Zuntan03/EasyWan22/wiki/UI-VideoOutput)
	- [Save](https://github.com/Zuntan03/EasyWan22/wiki/UI-Save)
	- [Prompt](https://github.com/Zuntan03/EasyWan22/wiki/UI-Prompt)
	- [Preset](https://github.com/Zuntan03/EasyWan22/wiki/UI-Preset)
	- [Model](https://github.com/Zuntan03/EasyWan22/wiki/UI-Model)
	- [PostProcess](https://github.com/Zuntan03/EasyWan22/wiki/UI-PostProcess)
	- [Mosaic](https://github.com/Zuntan03/EasyWan22/wiki/UI-Mosaic)

## License

The contents of this repository are under [MIT License](./LICENSE.txt).  
Folders with separate license files are under those respective licenses.
