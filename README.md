<!-- 英語のルビは easy wan nyan nyan -->
# <ruby>EasyWan22<rt>ｲｰｼﾞｰﾜﾝﾆｬﾝﾆｬﾝ</rt></ruby>

[English README](README_en.md)

Wan 2.2 **I2V-A14B** が Win PC の RAM 32GB, Geforce RTX 30x0 以降の VRAM 8GB で動きます。  
[Wan 2.2 **I2V-A14B** が **RAM 16GB**, Geforce **GTX 1660Ti VRAM 6GB** でもギリギリ動きました。](https://yyy.wpx.jp/2025/08/EasyWan22_I2V-A14B_Vram6GB_Ram16GB.mp4)  
サンプルはすべて RAM 64GB、Geforce RTX 3060 12GB 環境で生成しています。

動画の量産時の手数を減らすためにワークフローが大きめです。  
ComfyUI の学習などには不向きですので、それらが目的の方は、[SimpleComfyUi](https://github.com/Zuntan03/SimpleComfyUi) をご利用ください。

## 利用者の声

最新の利用者の声はこちら **[Twitter](https://x.com/search?q=%22easywan22%22&src=typed_query&f=live)**, **[YouTube](https://www.youtube.com/results?search_query=EasyWan22)**, **[Google](https://www.google.com/search?q=easywan22)**

記事

- 9/8: 『[【無料】動画生成AI「Wan2.2」の使い方　ComfyUI設定、簡単インストール方法まとめ](https://ascii.jp/elem/000/004/316/4316324/4/)』
- 8/11:『[無料の動画生成AI「Wan2.2」が凄すぎる　PCローカルでこの品質が出せるとは](https://ascii.jp/elem/000/004/312/4312173/)』
	- [p. 5「導入にあたっては、Zuntanさんの「EasyWan22」の環境が迷わず設定できておすすめです。」](https://ascii.jp/elem/000/004/312/4312173/5/)
- 8/5:『[ローカル環境でWan2.2のimg2videoを試してみた](https://kagaseo.blog.jp/archives/29271567.html)』
- 7/31:『[Wan2.2が簡単に使える「EasyWan22」の使い方](https://note.com/aiaicreate/n/n0c24cf1a8035)』

作例

- 8/12: [@studiomasakaki](https://x.com/studiomasakaki/status/1955098988962881757), [@yimamura](https://x.com/yimamura/status/1955222752786518075), [@YTxscc4lOtBHTKy](https://x.com/YTxscc4lOtBHTKy/status/1955116517236117530), [@magchan360](https://x.com/magchan360/status/1955002379453206753), [@ugoku_yeah](https://x.com/ugoku_yeah/status/1954922640612966735)
- 8/11: [@kuromonchaya](https://x.com/kuromonchaya/status/1954619427124924785), [@OkogeOnigiri](https://x.com/OkogeOnigiri/status/1954831538333372507), [@sirsirtaro_sub](https://x.com/sirsirtaro_sub/status/1954819183570497709), [@magchan360](https://x.com/magchan360/status/1954809827680457138) [2](https://x.com/magchan360/status/1954801881525764422) [3](https://x.com/magchan360/status/1954652281967927692), [@sirsirtaro29](https://x.com/sirsirtaro29/status/1954786781960011873), [@virtuarian](https://x.com/virtuarian/status/1954742657475023293), [@akasetouta](https://x.com/akasetouta/status/1954720972533338167)
- 8/10: [@RistyFalette](https://x.com/RistyFalette/status/1954342340866486548)
- 8/9: [@ramnacolumn](https://x.com/ramnacolumn/status/1954157838055715096), [@erot_ai](https://x.com/erot_ai/status/1954140200751308810), [@yobo_41](https://x.com/yobo_41/status/1953847312498774356), [@magchan360](https://x.com/magchan360/status/1954122025737367567)
- 8/8: [@croblz25](https://x.com/croblz25/status/1953652991799795842), [@tottarkun](https://x.com/tottarkun/status/1953784103523815471)
- 8/7: [@tottarkun](https://x.com/tottarkun/status/1953400449350160771)
- 8/6: [@Kuze0x0_](https://x.com/Kuze0x0_/status/1953037332489355689), [@Akiya_Saisei_PM](https://x.com/Akiya_Saisei_PM/status/1953099647842488603), [@yukimino_doga](https://x.com/yukimino_doga/status/1952972105630597241), [@wisperingcat](https://x.com/wisperingcat/status/1952894649791857146)
- 8/5: [@aryn_ra](https://x.com/aryn_ra/status/1952534391500185683), [@takey_21](https://x.com/takey_21/status/1952712030412271638)
- 8/4: [@studiomasakaki](https://x.com/studiomasakaki/status/1952222138762768553), [@croblz25](https://x.com/croblz25/status/1952325277960622547), [@RistyFalette](https://x.com/RistyFalette/status/1952380739095547936), [@Artemi_AI](https://x.com/Artemi_AI/status/1952357042066428116), [@ojihotaren](https://x.com/ojihotaren/status/1952346242580922672)
- 8/3: [@yukimino_doga](https://x.com/yukimino_doga/status/1951947103095476427) [2](https://x.com/yukimino_doga/status/1951886943588901017), [@kuromonchaya](https://x.com/kuromonchaya/status/1951983575420522602), [@aoi_yotsub16292](https://x.com/aoi_yotsub16292/status/1952052870397984795) [2](https://x.com/aoi_yotsub16292/status/1952015286774960406) [3](https://x.com/aoi_yotsub16292/status/1951990309266886843), [@remote_komusou](https://x.com/remote_komusou/status/1951792261420966189), [@ramnacolumn](https://x.com/ramnacolumn/status/1951921310218723353), [@NegiTurkey](https://x.com/NegiTurkey/status/1952135962324300120), [@nellygem888](https://x.com/nellygem888/status/1951966481043841362), [@municocco](https://x.com/municocco/status/1951858568929718562)
- 8/2: [@yukimino_doga](https://x.com/yukimino_doga/status/1951447771086725594), [@nellygem888](https://x.com/nellygem888/status/1951302176556589368) [2](https://x.com/nellygem888/status/1951313234662924646), [@iitomyii](https://x.com/iitomyii/status/1951352115835838685)
- 8/1: [@BeamManP](https://x.com/BeamManP/status/1950969267484238201), [@kagami_kami_m](https://x.com/kagami_kami_m/status/1951218120171106682), [@Kuze0x0_](https://x.com/Kuze0x0_/status/1950953805618835893), [@m_gen_chan](https://x.com/m_gen_chan/status/1951116909933633797), [@kp4114](https://x.com/kp4114/status/1951150976116859195), [@yukimino_doga](https://x.com/yukimino_doga/status/1950816818408374735) [2](https://x.com/yukimino_doga/status/1951263437939425350) [3](https://x.com/yukimino_doga/status/1950768548600770891), [@kp4114](https://x.com/kp4114/status/1951150976116859195), [@croblz25](https://x.com/croblz25/status/1950944166097326435)
- 7/31: [@Emanon_14](https://x.com/Emanon_14/status/1950892068705841599), [@yukimino_doga](https://x.com/yukimino_doga/status/1950761171797377392) [2](https://x.com/yukimino_doga/status/1950878350257312142)

## インストール

導入記事『[【無料】動画生成AI「Wan2.2」の使い方　ComfyUI設定、簡単インストール方法まとめ](https://ascii.jp/elem/000/004/316/4316324/4/)』

1. [EasyWan22Installer.bat](https://github.com/Zuntan03/EasyWan22/raw/main/EasyWan22/EasyWan22Installer.bat?ver=0) を右クリックから保存します。
	- リンクを開いてから右クリックから保存すると、`*.bat` ファイルでなく `*.txt` ファイルになり実行できなくなります。
2. インストール先の **空フォルダ** を `C:/EasyWan22/` や `D:/EasyWan22/` などの浅いパスに用意して、`EasyWan22Installer.bat` を置いて実行します。
	- **`発行元を確認できませんでした。このソフトウェアを実行しますか？` と表示されたら `実行` します。**
	- **`WindowsによってPCが保護されました` と表示されたら、`詳細表示` から `実行` します。**
	- **`Microsoft Visual C++ 2015-2022 Redistributable` のインストールで `このアプリがデバイスに変更を加えることを許可しますか？` と表示されたら `はい` とします。**
	- **必要なファイルのダウンロードに [Civitai](https://civitai.com/) API キーが必要ですので、画面の案内や [ネット上のノウハウ](https://www.google.com/search?q=civitai+api+key) に沿って入力してください。**

<!-- インストールで問題が発生した場合は、FAQ の「[インストールに失敗する](https://github.com/Zuntan03/EasyWan22/wiki/%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E8%B3%AA%E5%95%8F%E3%81%A8%E5%9B%9E%E7%AD%94#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%99%E3%82%8B)」を参照してください。 -->

## 使い方

- `ComfyUi.bat` で起動します。
	- **[ 注意 ][ ComfyUI の罠 ][ 被害者多め ]  
	初回起動時にブラウザキャッシュにある過去のワークフローが開かれ、エラーになる場合があります。  
	エラーを無視してワークフローを閉じてください。**

1. **`ComfyUI.bat` を起動したら `Easy/00_I2V(ImageToVideo)` ワークフローを開いて、ワークフロー内の上部にある説明を左上から確認してください。**  
そのまま `実行する` で動画を生成します。

**`Sample/` にワークフロー付きの作例があります。**  
**作例ではアップスケールやフレーム補間などの仕上げの後処理が有効になっています。**  
**作例を元にシードガチャをする場合は、後処理を無効にしてからガチャってください。**

- `Update.bat` で更新します。
	- 更新時のファイルの自動ダウンロードは `EasyWan22/AutoDownload_(Enable|Disable).bat` で切り替えられます。  
	ただし、無効にすると更新で `Easy/*` のワークフローが正常に動作しなくなる可能性があります。

## 最近の更新履歴

[更新履歴](https://github.com/Zuntan03/EasyWan22/wiki/ChangeLog)

<!--
README.md を英訳して README_en.md を更新します。更新履歴をよく更新します。EasyWan22/wiki/ へのリンクは変更禁止。「ドキュメント」内は変更禁止。
-->

現在、ドキュメントの更新が追いついていません。

### 2025/09/20

- 各種カスタムノードのバージョンを更新しました。

### 2025/09/17

- Python 3.12 系では特定の環境でコンパイラを要求されてるため、インストーラを Python 3.10 系対応のみにしました。

### 2025/09/14

- Civitai ダウンロードの古い仕組みを使用していた不具合を修正しました。
	- `Download\ultralytics\segm\99coins_anime_girl_face_m_seg.bat`
	- `Download\ultralytics\segm\nipples_v2_yolov11s-seg.bat`
	- `Download\ultralytics\segm\PitEyeDetailer-v2-seg.bat`
	- `Download\ultralytics\segm\PitHandDetailer-v2-Test-v9c.bat`
- プリセットを追加しました。
	- `Download\loras\Nsfw\PovInsertion_v10.bat`

### 2025/09/11

- ComfyUI を最新の Nightly 版に切り替えられる `EasyWan22/ComfyUi-SwitchNightly.bat` を追加しました。
	- 特定の環境で動作が重くなる可能性があります。
	- 元に戻すには `EasyWan22\ComfyUi-VersionLock.bat` と `Update.bat` を順に実行してください。
- `EasyWan22/ComfyUi-Version(Unlock|Lock).bat` で `Update.bat` での ComfyUI と ComfyUI Manager のバージョン固定の有効無効を切り替えられます。
- `EasyWan22\Pytorch-Version(Unlock|Lock).bat` で`Update.bat` での Pytorch と Triton と SageAttention のバージョン固定の有効無効を切り替えられます。
- 上記の `*-VersionUnlock.bat` はバージョンを固定しなくなりますが、`EasyTools/ComfyUi/*.txt` で指定済みのバージョンを利用し続けます。
	- バージョンコントロール自体を止めたい場合は、`EasyTools/ComfyUi/ComfyUiVersionControl-Disable.bat` や `EasyTools\ComfyUi\PytorchVersionControl-Disable.bat` をご利用ください。
- サンプルを 7種追加しました。

### 2025/09/09

- ComfyUI のバージョン `v0.3.57` で VRAM あふれが発生する問題が報告されているため、`v0.3.55` に戻しました。
- `胸巨大化` と `ダンス` のプリセットを追加しました。

### 2025/09/08

- `BouncingBoobs`, `DildoFuckingMachine`, `F4c3spl4shCumshot`, `Orgasm` の LoRA プリセットを追加しました。
- サンプルの動画を 4本追加しました。

### 2025/09/07

- `AutoMosaic` で検出モデルの選択としきい値を設定できるようにしました。
- `PointMosaic` で動画の末尾からモザイクを掛けられるようにしました。
	- `SwapStartEnd` などでモザイク対象が動画後半に出現する場合に利用します。
- 一部の環境で問題が発生しているようですので、Detector や Refiner の VAE エンコード時のタイリングをデフォルトで有効にしました。
- サンプルの動画を ~~18~~ ~~37~~ **57** 追加しました。
- `Nashikone LoRA プリセット` に 5種のプリセットを追加しました。

### 2025/09/05

- `PointMosaic` 不使用時に正常に動作しなくなっていた不具合を修正しました。
- ComfyUI のバージョンを [`v0.3.57`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.57) にしました。

### 2025/09/04

- `Refiner` で `EndImage` を使用しているとエラーになる不具合を修正しました。
- `Detailer` が無効でも検出器が実行されてしまう不具合を修正しました。
	- 再修正してみました。

### 2025/09/03

- 自動検出した箇所を切り出して、拡大してからキレイにする [`Detailer`](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E5%BE%8C%E5%87%A6%E7%90%86#detailer) に対応しました。
	- ADetailer のように領域別プロンプトを適用できます。
	- 書き換えの境界線は、後段の Refiner がキレイにします。
	- 様な検出モデルも自動で導入します。
	- Native 版での元ネタ『[WanFaceDetailer](https://www.notion.so/bedovyy/WanFaceDetailer-261ce80b3952805f8aaefb1cdb90ec04)』
- `Detailer` のサンプルを追加しました。

### 2025/09/01

- `SelectPrompts` に `LoraPresetTrigger` を追加しました。
	- LoRA プリセットのトリガーを無効化して、お好みに書き換えることができます。
- ComfyUI のバージョンを [`v0.3.56`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.56) にしました。
- FFMEPG を必要とするカスタムノードのために、ComfyUI から FFMEPG を利用できるようにしました。
- LoRA プリセットを 13種類追加しました。

### 2025/08/31

- サンプルを追加しました。 x2

### 2025/08/30

- ComfyUI のバージョンを [`v0.3.55`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.55) にしました。
- サンプルを追加しました。

### 2025/08/28

- プリセットのグループ単位で LoRA 強度を指定できるようにしました。
- `Input_` 付きの書き換えプロンプトで `PositiveInput` だけでなく、`TranslateInput` も挿入するようにしました。
	- `ImageToPrompt` を参照しながら書き換えプロンプトを生成しつつも、最終的なプロンプトから取り除くことができます。
- サンプルを追加しました。
- ComfyUI のバージョンを [`v0.3.54`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.54) にしました。

### 2025/08/28

- プロンプト拡張が正常に動作していなかった不具合を修正しました。
- プロンプトの拡張と書換に使用するモデルを、`PositivePrompt` ノードで選択できるようにしました。
- `ModelLoader` の `BlocksToSwap` の設定箇所をスライダーでわかりやすくしました。
- ComfyUI のバージョンを [`v0.3.53`](https://github.com/comfyanonymous/ComfyUI/releases/tag/v0.3.53) にしました。

### 2025/08/27

- [nashikone/iroiroLoRA](https://huggingface.co/nashikone/iroiroLoRA/tree/main/Wan2.2_i2v_A14B) のプリセットを追加しました。
- Civitai LoRA のプリセットを追加しました。

### 2025/08/26

- `EndImage` 有効時の `Refiner` がエラーになる不具合を修正しました。
- LoRA 込みの `Boost1stStep` サンプルを追加しました。

### 2025/08/25

- Base モデルのデフォルト設定を旧 Kijai WIP 仕様に合わせました。
	- `BaseSampler` の `HiNoise1stEnabled` で 3段サンプラを無効化しています。
- 動きを強化する `Boost1stStep` を追加しました。
	- FastMix で最初のステップで高速化 LoRA をマイナス適用で無効化することで、Cfg 3.5 での動きが良くなりました。  
	![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/FirstStepCfgHack.webp) 
- `上半身脱衣(L|S)` のプリセットを追加しました。
- 試してみたノードのピン留めが何かと面倒なのでやめました。
- ComfyUI のバージョンを `v0.3.52` に上げました。
- 動きを強化する `Boost1stStep` のサンプルを追加しました。
	- `Boost1stStep` の有効無効の変更のみで、大きく動きが変わります。
		- A-Boost1stStep [あり](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepA0_ON.mp4), [なし](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepA1_OFF.mp4)
		- B-Boost1stStep [あり](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepB0_ON.mp4), [なし](https://yyy.wpx.jp/EW22/S/20250825-Boost1stStepB1_OFF.mp4)

### 2025/08/24

- サブグラフに対応し、ワークフローの見た目が優しくなりました。
	- 機能面ではベースモデルへの切り替えを追加しています。
	- Wiki に UI リファレンスを用意し、各項目からリンクしました。

New  
![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/NewWorkflow.webp)  

Old  
![](https://raw.githubusercontent.com/wiki/Zuntan03/EasyWan22/log/202508/OldWorkflow.webp)


## ドキュメント

- [チュートリアル](https://github.com/Zuntan03/EasyWan22/wiki/%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB)
- [よくある質問と回答](https://github.com/Zuntan03/EasyWan22/wiki/%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E8%B3%AA%E5%95%8F%E3%81%A8%E5%9B%9E%E7%AD%94)
- [更新履歴](https://github.com/Zuntan03/EasyWan22/wiki/%E6%9B%B4%E6%96%B0%E5%B1%A5%E6%AD%B4)
- UI 説明
	- [画像入力](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E7%94%BB%E5%83%8F%E5%85%A5%E5%8A%9B)
	- [動画出力](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E5%8B%95%E7%94%BB%E5%87%BA%E5%8A%9B)
	- [保存](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E4%BF%9D%E5%AD%98)
	- [プロンプト](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88)
	- [プリセット](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E3%83%97%E3%83%AA%E3%82%BB%E3%83%83%E3%83%88)
	- [モデル](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E3%83%A2%E3%83%87%E3%83%AB)
	- [後処理](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E5%BE%8C%E5%87%A6%E7%90%86)
	- [モザイク](https://github.com/Zuntan03/EasyWan22/wiki/UI-%E3%83%A2%E3%82%B6%E3%82%A4%E3%82%AF)

## ライセンス

このリポジトリの内容は [MIT License](./LICENSE.txt) です。  
別途ライセンスファイルがあるフォルダ以下は、そのライセンスです。
